<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Starting Values and Fixing (and Sharing) Parameters • SPoCK</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Starting Values and Fixing (and Sharing) Parameters">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SPoCK</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Starting Values and Fixing (and Sharing) Parameters</h1>
            
      

      <div class="d-none name"><code>j_starting_mapping.Rmd</code></div>
    </div>

    
    
<p>In addition to the <code>SPoCK::Setup_xxx</code> functions, users can
access several advanced model features. These include:</p>
<ul>
<li>Specifying starting values (closely tied to parameter fixing)<br>
</li>
<li>Fixing parameters<br>
</li>
<li>Sharing parameters across model partitions</li>
</ul>
<div class="section level2">
<h2 id="starting-values">Starting Values<a class="anchor" aria-label="anchor" href="#starting-values"></a>
</h2>
<p>Starting values can be specified in two ways:</p>
<ol style="list-style-type: decimal">
<li>Directly within the <code>SPoCK::Setup_xxx</code> functions. Each
setup function accepts starting values through the <code>...</code>
argument. The inputs must match the model’s parameter names and
dimensions. For more information on parameter dimensions, see the
<em>Description of Model Parameters</em> vignette.</li>
</ol>
<ul>
<li><p><code><a href="../reference/Setup_Mod_Rec.html">SPoCK::Setup_Mod_Rec</a></code><br><em>ln_global_R0</em>, <em>Rec_prop</em>, <em>steepness_h</em>,
<em>ln_InitDevs</em>, <em>ln_RecDevs</em>, <em>ln_sigmaR</em></p></li>
<li><p><code><a href="../reference/Setup_Mod_Biologicals.html">SPoCK::Setup_Mod_Biologicals</a></code><br><em>ln_M</em>, <em>M_offset</em></p></li>
<li><p><code><a href="../reference/Setup_Mod_Movement.html">SPoCK::Setup_Mod_Movement</a></code><br><em>move_pars</em>, <em>logit_move_devs</em>,
<em>move_pe_pars</em></p></li>
<li><p><code><a href="../reference/Setup_Mod_Tagging.html">SPoCK::Setup_Mod_Tagging</a></code><br><em>ln_Init_Tag_Mort</em>, <em>ln_Tag_Shed</em>, <em>ln_tag_theta</em>,
<em>Tag_Reporting_Pars</em></p></li>
<li><p><code><a href="../reference/Setup_Mod_Catch_and_F.html">SPoCK::Setup_Mod_Catch_and_F</a></code><br><em>ln_sigmaC</em>, <em>ln_sigmaF</em>, <em>ln_sigmaF_agg</em>,
<em>ln_F_mean</em>, <em>ln_F_devs</em>, <em>ln_F_mean_AggCatch</em>,
<em>ln_F_devs_AggCatch</em></p></li>
<li><p><code><a href="../reference/Setup_Mod_FishIdx_and_Comps.html">SPoCK::Setup_Mod_FishIdx_and_Comps</a></code><br><em>ln_FishAge_theta</em>, <em>FishAge_corr_pars</em>,
<em>ln_FishAge_theta_agg</em>, <em>FishAge_corr_pars_agg</em>,<br><em>ln_FishLen_theta</em>, <em>FishLen_corr_pars</em>,
<em>ln_FishLen_theta_agg</em>, <em>FishLen_corr_pars_agg</em></p></li>
<li><p><code><a href="../reference/Setup_Mod_SrvIdx_and_Comps.html">SPoCK::Setup_Mod_SrvIdx_and_Comps</a></code><br><em>ln_SrvAge_theta</em>, <em>SrvAge_corr_pars</em>,
<em>ln_SrvAge_theta_agg</em>, <em>SrvAge_corr_pars_agg</em>,<br><em>ln_SrvLen_theta</em>, <em>SrvLen_corr_pars</em>,
<em>ln_SrvLen_theta_agg</em>, <em>SrvLen_corr_pars_agg</em></p></li>
<li><p><code><a href="../reference/Setup_Mod_Fishsel_and_Q.html">SPoCK::Setup_Mod_Fishsel_and_Q</a></code><br><em>ln_fish_fixed_sel_pars</em>, <em>ln_fish_q</em>,
<em>fishsel_pe_pars</em>, <em>ln_fishsel_devs</em></p></li>
<li><p><code><a href="../reference/Setup_Mod_Srvsel_and_Q.html">SPoCK::Setup_Mod_Srvsel_and_Q</a></code><br><em>ln_srv_fixed_sel_pars</em>, <em>ln_srv_q</em>,
<em>srvsel_pe_pars</em>, <em>ln_srvsel_devs</em></p></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Post-hoc modification of starting values. Alternatively, you can
first call the setup functions without specifying starting values, then
access and modify the internally created parameter list
(<code>input_list$par</code>) before running the model.</li>
</ol>
<p>In the following, we will illustrate both methods using the
recruitment module (<code>Setup_Mod_Rec</code>) and specify starting
values for <code>ln_global_R0</code> and <code>ln_sigmaR</code>. First
let us load in the package and define the model dimensions.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load in packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://chengmatt.github.io/SPoCK">SPoCK</a></span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"sgl_rg_sable_data"</span><span class="op">)</span> <span class="co"># load in data</span></span>
<span></span>
<span><span class="va">input_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Setup_Mod_Dim.html">Setup_Mod_Dim</a></span><span class="op">(</span>years <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">sgl_rg_sable_data</span><span class="op">$</span><span class="va">years</span><span class="op">)</span>, <span class="co"># vector of years </span></span>
<span>                            <span class="co"># (corresponds to year 1960 - 2024)</span></span>
<span>                            ages <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">sgl_rg_sable_data</span><span class="op">$</span><span class="va">ages</span><span class="op">)</span>, <span class="co"># vector of ages</span></span>
<span>                            lens <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">41</span>,<span class="fl">99</span>,<span class="fl">2</span><span class="op">)</span>, <span class="co"># number of lengths</span></span>
<span>                            n_regions <span class="op">=</span> <span class="fl">1</span>, <span class="co"># number of regions</span></span>
<span>                            n_sexes <span class="op">=</span> <span class="va">sgl_rg_sable_data</span><span class="op">$</span><span class="va">n_sexes</span>, <span class="co"># number of sexes == 1,</span></span>
<span>                            <span class="co"># female, == 2 male</span></span>
<span>                            n_fish_fleets <span class="op">=</span> <span class="va">sgl_rg_sable_data</span><span class="op">$</span><span class="va">n_fish_fleets</span>, <span class="co"># number of fishery</span></span>
<span>                            <span class="co"># fleet == 1, fixed gear, == 2 trawl gear</span></span>
<span>                            n_srv_fleets <span class="op">=</span> <span class="va">sgl_rg_sable_data</span><span class="op">$</span><span class="va">n_srv_fleets</span>, <span class="co"># number of survey fleets</span></span>
<span>                            verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>                            <span class="op">)</span></span></code></pre></div>
<p>We can specify starting values directly using the
<code>Setup_Mod_Rec</code> function. Note that all inputs passed via the
<code>...</code> argument must exactly match the parameter names and
their expected dimensions in the model (see the <em>Description of Model
Parameters</em> vignette for details).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">input_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Setup_Mod_Rec.html">Setup_Mod_Rec</a></span><span class="op">(</span></span>
<span>  input_list <span class="op">=</span> <span class="va">input_list</span>,        <span class="co"># input data list from above</span></span>
<span>  <span class="co"># Model options</span></span>
<span>  do_rec_bias_ramp <span class="op">=</span> <span class="cn">FALSE</span>,       <span class="co"># disable bias ramp</span></span>
<span>  sigmaR_switch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fl">1960</span><span class="op">:</span><span class="fl">1975</span><span class="op">)</span><span class="op">)</span>,  <span class="co"># switch from early to late sigmaR</span></span>
<span>  dont_est_recdev_last <span class="op">=</span> <span class="fl">1</span>,       <span class="co"># do not estimate last recruitment deviate</span></span>
<span>  rec_model <span class="op">=</span> <span class="st">"mean_rec"</span>,         <span class="co"># recruitment model type</span></span>
<span>  sexratio <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span>,         <span class="co"># recruitment sex ratio</span></span>
<span>  init_age_strc <span class="op">=</span> <span class="fl">1</span>,              <span class="co"># geometric series for initial age structure</span></span>
<span>  </span>
<span>  <span class="co"># Specify starting values</span></span>
<span>  ln_global_R0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">30</span><span class="op">)</span>,         <span class="co"># starting value for global R0</span></span>
<span>  ln_sigmaR <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">1.5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">1.5</span><span class="op">)</span><span class="op">)</span>  <span class="co"># starting values for early and late sigmaR</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>In this example, the starting value for <em>ln_global_R0</em> is set
to <code>log(30)</code>, while <em>ln_sigmaR</em> is set to
<code>log(1.5)</code> for both the early (first element) and late
(second element) periods.</p>
<p>Alternatively, starting values can be assigned after running the
setup functions without initial specifications. Users can extract the
internal parameter list and modify starting values as needed:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">input_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Setup_Mod_Rec.html">Setup_Mod_Rec</a></span><span class="op">(</span>input_list <span class="op">=</span> <span class="va">input_list</span>, <span class="co"># input data list from above</span></span>
<span>                            <span class="co"># Model options</span></span>
<span>                            do_rec_bias_ramp <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co"># don't do bias ramp </span></span>
<span>                            sigmaR_switch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fl">1960</span><span class="op">:</span><span class="fl">1975</span><span class="op">)</span><span class="op">)</span>, <span class="co"># when to switch from early to late sigmaR</span></span>
<span>                            dont_est_recdev_last <span class="op">=</span> <span class="fl">1</span>, <span class="co"># don't estimate last recruitment deviate</span></span>
<span>                            rec_model <span class="op">=</span> <span class="st">"mean_rec"</span>, <span class="co"># recruitment model</span></span>
<span>                            sexratio <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span>,  <span class="co"># recruitment sex ratio</span></span>
<span>                            init_age_strc <span class="op">=</span> <span class="fl">1</span> <span class="co"># geometric series to derive age structure</span></span>
<span>                            <span class="op">)</span></span>
<span></span>
<span><span class="co"># Specify starting values post-hoc</span></span>
<span><span class="co"># R0</span></span>
<span><span class="va">input_list</span><span class="op">$</span><span class="va">par</span><span class="op">$</span><span class="va">ln_global_R0</span> <span class="co"># default starting value</span></span>
<span><span class="co">#&gt; [1] 2.70805</span></span>
<span><span class="va">input_list</span><span class="op">$</span><span class="va">par</span><span class="op">$</span><span class="va">ln_global_R0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">30</span><span class="op">)</span> <span class="co"># user specified starting value</span></span>
<span></span>
<span><span class="co"># sigmaR</span></span>
<span><span class="va">input_list</span><span class="op">$</span><span class="va">par</span><span class="op">$</span><span class="va">ln_sigmaR</span> <span class="co"># default starting value</span></span>
<span><span class="co">#&gt; [1] 0 0</span></span>
<span><span class="va">input_list</span><span class="op">$</span><span class="va">par</span><span class="op">$</span><span class="va">ln_sigmaR</span><span class="op">[</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">1.5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">1.5</span><span class="op">)</span><span class="op">)</span> <span class="co"># user specified starting value</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="mapping">Mapping<a class="anchor" aria-label="anchor" href="#mapping"></a>
</h2>
<p>Mapping is a core feature of TMB and RTMB models. It allows users to
either fix parameters at known values or to share parameters across
different parts of the model. In the sections below, we first
demonstrate how to use mapping to fix parameters. We then show how
mapping can be used to share parameters across model partitions.</p>
<div class="section level3">
<h3 id="fixing-parameters">Fixing Parameters<a class="anchor" aria-label="anchor" href="#fixing-parameters"></a>
</h3>
<p>The <code>SPoCK::Setup_xxx</code> functions include arguments that
allow certain parameters to be fixed, meaning they are not estimated
during model fitting. These arguments are not available for all
parameters, but we note that all parameters can be specified to be
fixed. As an example, we use <code>Setup_Mod_Rec</code> to show how the
<em>ln_sigmaR</em> parameter can be fixed. The argument
<code>sigmaR_spec = "fix"</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">input_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Setup_Mod_Rec.html">Setup_Mod_Rec</a></span><span class="op">(</span>input_list <span class="op">=</span> <span class="va">input_list</span>, <span class="co"># input data list from above</span></span>
<span>                            <span class="co"># Model options</span></span>
<span>                            do_rec_bias_ramp <span class="op">=</span> , <span class="co"># don't do bias ramp </span></span>
<span>                            sigmaR_switch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fl">1960</span><span class="op">:</span><span class="fl">1975</span><span class="op">)</span><span class="op">)</span>, <span class="co"># when to switch from early to late sigmaR</span></span>
<span>                            dont_est_recdev_last <span class="op">=</span> <span class="fl">1</span>, <span class="co"># don't estimate last recruitment deviate</span></span>
<span>                            rec_model <span class="op">=</span> <span class="st">"mean_rec"</span>, <span class="co"># recruitment model</span></span>
<span>                            sexratio <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span>,  <span class="co"># recruitment sex ratio</span></span>
<span>                            init_age_strc <span class="op">=</span> <span class="fl">1</span>, <span class="co"># geometric series to derive age structure</span></span>
<span>                            </span>
<span>                            <span class="co"># Parameter Fixing</span></span>
<span>                            sigmaR_spec <span class="op">=</span> <span class="st">'fix'</span></span>
<span>                            <span class="op">)</span></span>
<span></span>
<span><span class="va">input_list</span><span class="op">$</span><span class="va">map</span><span class="op">$</span><span class="va">ln_sigmaR</span> <span class="co"># both values are fixed and not estimated (specified as factor(rep(NA, 2)))</span></span>
<span><span class="co">#&gt; [1] &lt;NA&gt; &lt;NA&gt;</span></span>
<span><span class="co">#&gt; Levels:</span></span>
<span><span class="va">input_list</span><span class="op">$</span><span class="va">par</span><span class="op">$</span><span class="va">ln_sigmaR</span> <span class="co"># ln_sigmaR is then fixed at the default starting value</span></span>
<span><span class="co">#&gt; [1] 0 0</span></span></code></pre></div>
<p>To fix <em>ln_sigmaR</em> at a specific value, simply supply that
value when calling the function:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">input_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Setup_Mod_Rec.html">Setup_Mod_Rec</a></span><span class="op">(</span>input_list <span class="op">=</span> <span class="va">input_list</span>, <span class="co"># input data list from above</span></span>
<span>                            <span class="co"># Model options</span></span>
<span>                            do_rec_bias_ramp <span class="op">=</span> , <span class="co"># don't do bias ramp </span></span>
<span>                            sigmaR_switch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fl">1960</span><span class="op">:</span><span class="fl">1975</span><span class="op">)</span><span class="op">)</span>, <span class="co"># when to switch from early to late sigmaR</span></span>
<span>                            dont_est_recdev_last <span class="op">=</span> <span class="fl">1</span>, <span class="co"># don't estimate last recruitment deviate</span></span>
<span>                            rec_model <span class="op">=</span> <span class="st">"mean_rec"</span>, <span class="co"># recruitment model</span></span>
<span>                            sexratio <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span>,  <span class="co"># recruitment sex ratio</span></span>
<span>                            init_age_strc <span class="op">=</span> <span class="fl">1</span>, <span class="co"># geometric series to derive age structure</span></span>
<span>                            </span>
<span>                            <span class="co"># Parameter Fixing</span></span>
<span>                            sigmaR_spec <span class="op">=</span> <span class="st">'fix'</span>,</span>
<span>                            ln_sigmaR <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">1.5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">1.5</span><span class="op">)</span><span class="op">)</span> <span class="co"># user specified starting value</span></span>
<span>                            <span class="op">)</span></span>
<span></span>
<span><span class="va">input_list</span><span class="op">$</span><span class="va">map</span><span class="op">$</span><span class="va">ln_sigmaR</span> <span class="co"># both values are fixed and not estimated (specified as factor(rep(NA, 2)))</span></span>
<span><span class="co">#&gt; [1] &lt;NA&gt; &lt;NA&gt;</span></span>
<span><span class="co">#&gt; Levels:</span></span>
<span><span class="va">input_list</span><span class="op">$</span><span class="va">par</span><span class="op">$</span><span class="va">ln_sigmaR</span> <span class="co"># ln_sigmaR is then fixed at the user specified starting value</span></span>
<span><span class="co">#&gt; [1] 0.4054651 0.4054651</span></span></code></pre></div>
<p>However, not all parameters include a convenience argument like
<code>sigmaR_spec = "fix"</code>. For example, <em>ln_global_R0</em>
does not. In such cases, you can fix the parameter manually by modifying
the map list directly and specifying the desired starting value:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">input_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Setup_Mod_Rec.html">Setup_Mod_Rec</a></span><span class="op">(</span>input_list <span class="op">=</span> <span class="va">input_list</span>, <span class="co"># input data list from above</span></span>
<span>                            <span class="co"># Model options</span></span>
<span>                            do_rec_bias_ramp <span class="op">=</span> , <span class="co"># don't do bias ramp </span></span>
<span>                            sigmaR_switch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fl">1960</span><span class="op">:</span><span class="fl">1975</span><span class="op">)</span><span class="op">)</span>, <span class="co"># when to switch from early to late sigmaR</span></span>
<span>                            dont_est_recdev_last <span class="op">=</span> <span class="fl">1</span>, <span class="co"># don't estimate last recruitment deviate</span></span>
<span>                            rec_model <span class="op">=</span> <span class="st">"mean_rec"</span>, <span class="co"># recruitment model</span></span>
<span>                            sexratio <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span>,  <span class="co"># recruitment sex ratio</span></span>
<span>                            init_age_strc <span class="op">=</span> <span class="fl">1</span>, <span class="co"># geometric series to derive age structure</span></span>
<span>                            <span class="op">)</span></span>
<span></span>
<span><span class="va">input_list</span><span class="op">$</span><span class="va">map</span><span class="op">$</span><span class="va">ln_global_R0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span></span>
<span><span class="va">input_list</span><span class="op">$</span><span class="va">par</span><span class="op">$</span><span class="va">ln_global_R0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">30</span><span class="op">)</span></span></code></pre></div>
<p>In this example, <em>ln_global_R0</em> is fixed at
<code>log(30)</code> by setting its map entry to <code>NA</code> and
providing the desired value in the parameter list.</p>
</div>
<div class="section level3">
<h3 id="sharing-parameters">Sharing Parameters<a class="anchor" aria-label="anchor" href="#sharing-parameters"></a>
</h3>
<p>The <code>SPoCK::Setup_xxx</code> functions also support sharing
parameters across model partitions. For example, selectivity parameters
can be shared between sexes using built-in convenience arguments. These
options simplify common sharing structures, but users can also implement
more customized behavior when needed. Below, we demonstrate two
approaches. First, we show how to share fishery selectivity parameters
between sexes using a convenience flag in
<code>Setup_Mod_Fishsel_and_Q</code>. Then, we outline how users can
manually configure parameter sharing for finer control.</p>
<p>In the example below, we define two fishery fleets. Fleet 1 uses a
logistic selectivity model (2 parameters), while Fleet 2 uses a gamma
dome-shaped model (2 parameters). We first use the
<code>fish_fixed_sel_pars_spec</code> argument to specify that
selectivity parameters for both fleets should be estimated across all
model partitions (<code>est_all</code>). Thus, when we inspect the map,
we should expect a total of 8 unique numbers, which represent unique
selectivity parameters to be estimated for each sex and fleet (4 for
each sex and fleet combination).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">input_list</span> <span class="op">&lt;-</span> <span class="fu">SPoCK</span><span class="fu">::</span><span class="fu"><a href="../reference/Setup_Mod_Fishsel_and_Q.html">Setup_Mod_Fishsel_and_Q</a></span><span class="op">(</span>input_list <span class="op">=</span> <span class="va">input_list</span>,</span>
<span></span>
<span>                                      <span class="co"># Model options</span></span>
<span>                                      cont_tv_fish_sel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none_Fleet_1"</span>, <span class="st">"none_Fleet_2"</span><span class="op">)</span>,</span>
<span>                                      fish_sel_blocks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none_Fleet_1"</span>, <span class="st">"none_Fleet_2"</span><span class="op">)</span>,</span>
<span>                                      fish_sel_model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"logist1_Fleet_1"</span>, <span class="st">"gamma_Fleet_2"</span><span class="op">)</span>,</span>
<span>                                      fish_q_blocks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none_Fleet_1"</span>, <span class="st">"none_Fleet_2"</span><span class="op">)</span>,</span>
<span>                                      fish_q_spec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"fix"</span>, <span class="st">"fix"</span><span class="op">)</span>,</span>
<span></span>
<span>                                      <span class="co"># Share selectivity parameters across all partitions</span></span>
<span>                                      fish_fixed_sel_pars_spec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"est_all"</span>, <span class="st">"est_all"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">input_list</span><span class="op">$</span><span class="va">map</span><span class="op">$</span><span class="va">ln_fish_fixed_sel_pars</span> <span class="co"># 8 unique numbers, 4 for each sex and fleet combination</span></span>
<span><span class="co">#&gt; [1] 1 2 3 4 5 6 7 8</span></span>
<span><span class="co">#&gt; Levels: 1 2 3 4 5 6 7 8</span></span></code></pre></div>
<p>Next, we use the <code>fish_fixed_sel_pars_spec</code> argument to
indicate that selectivity parameters should be shared across sex
partitions for both fleets. Specifically, we use the
<code>"est_shared_s"</code> setting to link parameters between sexes,
even though the model is sex-structured. In this setup, we still
estimate separate parameters for each fleet, but the same selectivity
parameters are used for both sexes within each fleet. As a result, when
we inspect the mapping, we should expect four unique values—two per
fleet—despite having two sexes.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">input_list</span> <span class="op">&lt;-</span> <span class="fu">SPoCK</span><span class="fu">::</span><span class="fu"><a href="../reference/Setup_Mod_Fishsel_and_Q.html">Setup_Mod_Fishsel_and_Q</a></span><span class="op">(</span>input_list <span class="op">=</span> <span class="va">input_list</span>,</span>
<span></span>
<span>                                      <span class="co"># Model options</span></span>
<span>                                      cont_tv_fish_sel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none_Fleet_1"</span>, <span class="st">"none_Fleet_2"</span><span class="op">)</span>,</span>
<span>                                      fish_sel_blocks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none_Fleet_1"</span>, <span class="st">"none_Fleet_2"</span><span class="op">)</span>,</span>
<span>                                      fish_sel_model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"logist1_Fleet_1"</span>, <span class="st">"gamma_Fleet_2"</span><span class="op">)</span>,</span>
<span>                                      fish_q_blocks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none_Fleet_1"</span>, <span class="st">"none_Fleet_2"</span><span class="op">)</span>,</span>
<span>                                      fish_q_spec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"fix"</span>, <span class="st">"fix"</span><span class="op">)</span>,</span>
<span></span>
<span>                                      <span class="co"># Share selectivity parameters across all partitions</span></span>
<span>                                      fish_fixed_sel_pars_spec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"est_shared_s"</span>, <span class="st">"est_shared_s"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">input_list</span><span class="op">$</span><span class="va">map</span><span class="op">$</span><span class="va">ln_fish_fixed_sel_pars</span> <span class="co"># 4 unique numbers, 2 for each sex and fleet combination</span></span>
<span><span class="co">#&gt; [1] 1 2 1 2 3 4 3 4</span></span>
<span><span class="co">#&gt; Levels: 1 2 3 4</span></span></code></pre></div>
<p>The parameter array ln_fish_fixed_sel_pars has the following
structure:
<code>[n_regions, n_max_sel_pars, n_max_sel_blocks, n_sexes, n_fish_fleets]</code>
In this example, its dimensions are <code>1 x 2 x 1 x 2 x 2</code>.</p>
<p>This means that:</p>
<ul>
<li><p>For each fleet, there are two estimated selectivity
parameters</p></li>
<li><p>These are shared across the two sexes</p></li>
<li><p>When flattened into a vector (as required by the mapping), this
results in four distinct values (two per fleet), even though the
underlying array spans two sexes</p></li>
</ul>
<p>Below is a minimal example that replicates what
<code>Setup_Mod_Fishsel_and_Q</code> is doing internally:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># define dimensions</span></span>
<span><span class="va">n_regions</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="va">n_max_sel_pars</span> <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span><span class="va">n_max_sel_blocks</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="va">n_sexes</span> <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span><span class="va">n_fish_fleets</span> <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span></span>
<span><span class="co"># define empty parameter array for demonstration</span></span>
<span><span class="va">ln_fish_fixed_sel_pars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html" class="external-link">array</a></span><span class="op">(</span><span class="fl">0</span>, dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">n_regions</span>,<span class="va">n_max_sel_pars</span>,<span class="va">n_max_sel_blocks</span>,<span class="va">n_sexes</span>,<span class="va">n_fish_fleets</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ln_fish_fixed_sel_pars</span><span class="op">[</span><span class="fl">1</span>,,<span class="fl">1</span>,,<span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span> <span class="co"># same parameters for each sex for fleet 1</span></span>
<span><span class="va">ln_fish_fixed_sel_pars</span><span class="op">[</span><span class="fl">1</span>,,<span class="fl">1</span>,,<span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span> <span class="co"># same parameters for each sex for fleet 2</span></span>
<span><span class="va">ln_fish_fixed_sel_pars</span></span>
<span><span class="co">#&gt; , , 1, 1, 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      [,1] [,2]</span></span>
<span><span class="co">#&gt; [1,]    1    2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , , 1, 2, 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      [,1] [,2]</span></span>
<span><span class="co">#&gt; [1,]    1    2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , , 1, 1, 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      [,1] [,2]</span></span>
<span><span class="co">#&gt; [1,]    3    4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , , 1, 2, 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      [,1] [,2]</span></span>
<span><span class="co">#&gt; [1,]    3    4</span></span>
<span></span>
<span><span class="co"># flatten array to a vector of factors for the map</span></span>
<span><span class="va">custom_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="va">ln_fish_fixed_sel_pars</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>We can now compare the custom map object we constructed manually with
the one generated by <code>Setup_Mod_Fishsel_and_Q</code>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">custom_map</span></span>
<span><span class="co">#&gt; [1] 1 2 1 2 3 4 3 4</span></span>
<span><span class="co">#&gt; Levels: 1 2 3 4</span></span>
<span><span class="va">input_list</span><span class="op">$</span><span class="va">map</span><span class="op">$</span><span class="va">ln_fish_fixed_sel_pars</span></span>
<span><span class="co">#&gt; [1] 1 2 1 2 3 4 3 4</span></span>
<span><span class="co">#&gt; Levels: 1 2 3 4</span></span></code></pre></div>
<p>Both should match, confirming that parameters are being correctly
shared across sexes for each fleet.</p>
<p>Lastly, we demonstrate how to manually specify advanced mapping and
parameter-sharing options for fishery selectivity parameters. In this
example, we want to:</p>
<ul>
<li>Estimate logistic selectivity for Fleet 1, where:
<ul>
<li>The
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>a</mi><mn>50</mn></msub><annotation encoding="application/x-tex">a_{50}</annotation></semantics></math>
parameter (inflection point) is sex-specific<br>
</li>
<li>The slope parameter is shared across sexes<br>
</li>
</ul>
</li>
<li>Estimate gamma selectivity for Fleet 2, where:
<ul>
<li>All parameters are sex-specific</li>
</ul>
</li>
</ul>
<p>This level of control is not supported by the built-in
<code>fish_fixed_sel_pars_spec</code> convenience arguments, so we must
construct the mapping manually.</p>
<p>We begin by calling <code>Setup_Mod_Fishsel_and_Q</code> with the
<code>"est_all"</code> option for both fleets. This creates a parameter
array with the correct dimensions and assumes that all selectivity
parameters are uniquely estimated across model partitions.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">input_list</span> <span class="op">&lt;-</span> <span class="fu">SPoCK</span><span class="fu">::</span><span class="fu"><a href="../reference/Setup_Mod_Fishsel_and_Q.html">Setup_Mod_Fishsel_and_Q</a></span><span class="op">(</span></span>
<span>  input_list <span class="op">=</span> <span class="va">input_list</span>,</span>
<span></span>
<span>  <span class="co"># Model options</span></span>
<span>  cont_tv_fish_sel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none_Fleet_1"</span>, <span class="st">"none_Fleet_2"</span><span class="op">)</span>,</span>
<span>  fish_sel_blocks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none_Fleet_1"</span>, <span class="st">"none_Fleet_2"</span><span class="op">)</span>,</span>
<span>  fish_sel_model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"logist1_Fleet_1"</span>, <span class="st">"gamma_Fleet_2"</span><span class="op">)</span>,</span>
<span>  fish_q_blocks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none_Fleet_1"</span>, <span class="st">"none_Fleet_2"</span><span class="op">)</span>,</span>
<span>  fish_q_spec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"fix"</span>, <span class="st">"fix"</span><span class="op">)</span>,</span>
<span></span>
<span>  <span class="co"># Start with all parameters estimated independently</span></span>
<span>  fish_fixed_sel_pars_spec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"est_all"</span>, <span class="st">"est_all"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>We then extract the parameter array created internally for
<code>ln_fish_fixed_sel_pars.</code> This array has dimensions:
<code>[n_regions, n_max_sel_pars, n_max_sel_blocks, n_sexes, n_fish_fleets]</code>.
In this example, its dimensions are <code>1 x 2 x 1 x 2 x 2</code>. We
can then assign integer values to this array to indicate which
parameters are shared (same value) or independently estimated (different
values).</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">map_ln_fish_fixed_sel_pars</span> <span class="op">&lt;-</span> <span class="va">input_list</span><span class="op">$</span><span class="va">par</span><span class="op">$</span><span class="va">ln_fish_fixed_sel_pars</span>  <span class="co"># extract the array</span></span></code></pre></div>
<p>We now assign specific values to define the desired sharing
structure:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fleet 1 (logistic): </span></span>
<span><span class="co"># - sel_par 1 = a50 (sex-specific)</span></span>
<span><span class="co"># - sel_par 2 = slope (shared across sex)</span></span>
<span><span class="va">map_ln_fish_fixed_sel_pars</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,,<span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>   <span class="co"># a50: unique for each sex</span></span>
<span><span class="va">map_ln_fish_fixed_sel_pars</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">1</span>,,<span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>     <span class="co"># slope: same for both sexes</span></span>
<span></span>
<span><span class="co"># Fleet 2 (gamma): </span></span>
<span><span class="co"># - sel_par 1 = amax (sex-specific)</span></span>
<span><span class="co"># - sel_par 2 = slope (sex-specific)</span></span>
<span><span class="va">map_ln_fish_fixed_sel_pars</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,,<span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">5</span><span class="op">)</span>   <span class="co"># amax: unique per sex</span></span>
<span><span class="va">map_ln_fish_fixed_sel_pars</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">1</span>,,<span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>,<span class="fl">7</span><span class="op">)</span>   <span class="co"># slope: unique per sex</span></span></code></pre></div>
<p>We then flatten this array into a vector of factors and assign it to
the map list. This tells the model how parameters should be linked when
building the model.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Flatten the mapping array and assign it to the map</span></span>
<span><span class="va">input_list</span><span class="op">$</span><span class="va">map</span><span class="op">$</span><span class="va">ln_fish_fixed_sel_pars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="va">map_ln_fish_fixed_sel_pars</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the final map</span></span>
<span><span class="va">input_list</span><span class="op">$</span><span class="va">map</span><span class="op">$</span><span class="va">ln_fish_fixed_sel_pars</span></span>
<span><span class="co">#&gt; [1] 1 3 2 3 4 6 5 7</span></span>
<span><span class="co">#&gt; Levels: 1 2 3 4 5 6 7</span></span></code></pre></div>
<p>This custom mapping approach allows full control over parameter
sharing structures beyond what is available through the high-level setup
arguments.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthew Cheng.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
