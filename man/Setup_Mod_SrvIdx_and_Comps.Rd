% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Setup_Survey.R
\name{Setup_Mod_SrvIdx_and_Comps}
\alias{Setup_Mod_SrvIdx_and_Comps}
\title{Setup observed survey indices and composition data (age and length comps)}
\usage{
Setup_Mod_SrvIdx_and_Comps(
  input_list,
  ObsSrvIdx,
  ObsSrvIdx_SE,
  UseSrvIdx,
  srv_idx_type,
  ObsSrvAgeComps,
  UseSrvAgeComps,
  ObsSrvLenComps,
  UseSrvLenComps,
  ISS_SrvAgeComps = NULL,
  ISS_SrvLenComps = NULL,
  SrvAgeComps_LikeType,
  SrvLenComps_LikeType,
  SrvAgeComps_Type,
  SrvLenComps_Type,
  SrvAge_comp_agg_type = NULL,
  SrvLen_comp_agg_type = NULL,
  ...
)
}
\arguments{
\item{input_list}{List containing a data list, parameter list, and map list}

\item{ObsSrvIdx}{Observed survey index data as a numeric array with dimensions
\code{[n_regions, n_years, n_srv_fleets]}.}

\item{ObsSrvIdx_SE}{Standard errors associated with \code{ObsSrvIdx},
also dimensioned \code{[n_regions, n_years, n_srv_fleets]}.}

\item{UseSrvIdx}{Logical or binary indicator array (\code{[n_regions, n_years, n_srv_fleets]})
specifying whether to include a survey index in the likelihood (\code{1}) or ignore it (\code{0}).}

\item{srv_idx_type}{Character vector of length \code{n_srv_fleets} specifying the type of index data.
Options are \code{"abd"} for abundance, \code{"biom"} for biomass, and \code{"none"} if no index is available.}

\item{ObsSrvAgeComps}{Observed survey age composition data as a numeric array with dimensions
\code{[n_regions, n_years, n_ages, n_sexes, n_srv_fleets]}. Values should reflect counts or proportions
(not required to sum to 1, but should be on a comparable scale).}

\item{UseSrvAgeComps}{Indicator array (\code{[n_regions, n_years, n_srv_fleets]}) specifying whether
to fit survey age composition data (\code{1}) or ignore it (\code{0}).}

\item{ObsSrvLenComps}{Observed survey length composition data as a numeric array with dimensions
\code{[n_regions, n_years, n_lens, n_sexes, n_srv_fleets]}. Values should reflect counts or proportions.}

\item{UseSrvLenComps}{Indicator array (\code{[n_regions, n_years, n_srv_fleets]}) specifying whether
to fit survey length composition data (\code{1}) or ignore it (\code{0}).}

\item{ISS_SrvAgeComps}{Input sample size for age compositions, array dimensioned
\code{[n_regions, n_years, n_sexes, n_srv_fleets]}. Required if observed age comps are normalized
(i.e., sum to 1), to correctly scale the contribution to the likelihood.}

\item{ISS_SrvLenComps}{Same as \code{ISS_SrvAgeComps}, but for length compositions.}

\item{SrvAgeComps_LikeType}{Character vector of length \code{n_srv_fleets} specifying the likelihood
type used for survey age composition data. Options include \code{"Multinomial"}, \code{"Dirichlet-Multinomial"},
and \code{"iid-Logistic-Normal"}. Use \code{"none"} to omit the likelihood.}

\item{SrvLenComps_LikeType}{Same as \code{SrvAgeComps_LikeType}, but for survey length composition data.}

\item{SrvAgeComps_Type}{Character vector specifying how age compositions are structured by fleet and year range.
Options include:
\itemize{
  \item \code{"agg"}: Aggregated across regions and sexes.
  \item \code{"spltRspltS"}: Split by region and by sex (compositions sum to 1 within region-sex group).
  \item \code{"spltRjntS"}: Split by region but summed jointly across sexes.
  \item \code{"none"}: No composition data used.
}
Format each element as \code{"<type>_Year_<start>-<end>_Fleet_<fleet number>"}
(e.g., \code{"agg_Year_1-10_Fleet_1"}).}

\item{SrvLenComps_Type}{Same as \code{SrvAgeComps_Type}, but for length compositions.}

\item{SrvAge_comp_agg_type}{Optional integer vector of length \code{n_srv_fleets} specifying
the order of operations for aggregating age compositions when \code{SrvAgeComps_Type == "agg"}.
\itemize{
  \item \code{0}: Normalize, then aggregate, then apply ageing error, then normalize again.
  \item \code{1}: Aggregate first, normalize, then apply ageing error.
}
Default is \code{NULL}.}

\item{SrvLen_comp_agg_type}{Optional integer vector of length \code{n_srv_fleets} specifying
the order of operations for aggregating length compositions.
\itemize{
  \item \code{0}: Do not normalize before applying size–age transition.
  \item \code{1}: Normalize before applying size–age transition.
}
Default is \code{NULL}.}

\item{...}{Additional arguments specifying starting values for overdispersion parameters
(e.g., \code{ln_SrvAge_theta}, \code{ln_SrvLen_theta}, \code{ln_SrvAge_theta_agg}, \code{ln_SrvLen_theta_agg}).}
}
\description{
Setup observed survey indices and composition data (age and length comps)
}
